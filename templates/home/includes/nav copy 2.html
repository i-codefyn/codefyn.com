<style>
  /* Fixed Navbar */
  .navbar-fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1030; /* Ensures it stays above other content */
    transition: background-color 0.3s ease;
  }

  /* Scroll Effect */
  .navbar-scrolled {
    background-color: #f8f9fa; /* Change to your desired color */
  }

  /* Ensure content does not overlap navbar */
  body {
    padding-top: 56px; /* Adjust based on navbar height */
  }
</style>

<nav class="navbar navbar-expand-lg navbar-light bg-light navbar-fixed">
  <div class="container-fluid">
    <!-- Logo -->
    <a class="navbar-brand" href="#">
      <img src="logo.png" alt="Logo" width="30" height="30" class="d-inline-block align-text-top">
      WebDev Co.
    </a>
    <!-- Hamburger Menu Button for Offcanvas -->
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <!-- Navbar Links (Visible on larger screens) -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#"><i class="bi bi-house-door-fill"></i> Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-card-checklist"></i> Services</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-briefcase-fill"></i> Portfolio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-info-circle-fill"></i> About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-envelope-fill"></i> Contact</a>
        </li>
        <!-- Dropdown Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-three-dots"></i> More
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="#"><i class="bi bi-pencil-square"></i> Blog</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-people-fill"></i> Careers</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-life-preserver"></i> Support</a></li>
          </ul>
        </li>
        <!-- Show Login Button if User is Not Logged In -->
        {% if not user.is_authenticated %}
        <li class="nav-item">
          <a class="btn btn-outline-primary ms-2" href="#"><i class="bi bi-box-arrow-in-right"></i> Login</a>
        </li>
        {% else %}
        <!-- Show Account Dropdown if User is Logged In -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle"></i> {{ user.username }}
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accountDropdown">
            <li><a class="dropdown-item" href="#"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-person"></i> Profile</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-gear-fill"></i> Settings</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
          </ul>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- Offcanvas Menu (For Mobile) -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#"><i class="bi bi-house-door-fill"></i> Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"><i class="bi bi-card-checklist"></i> Services</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"><i class="bi bi-briefcase-fill"></i> Portfolio</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"><i class="bi bi-info-circle-fill"></i> About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"><i class="bi bi-envelope-fill"></i> Contact</a>
      </li>
      <!-- Dropdown Menu -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMobile" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-three-dots"></i> More
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMobile">
          <li><a class="dropdown-item" href="#"><i class="bi bi-pencil-square"></i> Blog</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-people-fill"></i> Careers</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-life-preserver"></i> Support</a></li>
        </ul>
      </li>
      <!-- Show Login Button if User is Not Logged In -->
      {% if not user.is_authenticated %}
      <li class="nav-item">
        <a class="btn btn-outline-primary w-100 mt-3" href="#"><i class="bi bi-box-arrow-in-right"></i> Login</a>
      </li>
      {% else %}
      <!-- Show Account Dropdown if User is Logged In -->
      <li class="nav-item dropdown mt-3">
        <a class="nav-link dropdown-toggle" href="#" id="accountDropdownMobile" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-circle"></i> {{ user.username }}
        </a>
        <ul class="dropdown-menu" aria-labelledby="accountDropdownMobile">
          <li><a class="dropdown-item" href="#"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-person"></i> Profile</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-gear-fill"></i> Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
        </ul>
      </li>
      {% endif %}
    </ul>
  </div>
</div>

<!-- JavaScript for Scroll Event -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var navbar = document.querySelector('.navbar');
    var scrollPosition = 50; // Change this value based on when you want the effect to start

    window.addEventListener('scroll', function () {
      if (window.scrollY > scrollPosition) {
        navbar.classList.add('navbar-scrolled');
      } else {
        navbar.classList.remove('navbar-scrolled');
      }
    });
  });
</script>